$("#req_<%=@request.id%>").replaceWith("<%= j(render :partial => 'users/user_tile', :locals => {:req => @request}) %>");
$("#reply_<%=@request.id%>").replaceWith("<%= j(render :partial => 'requests/reply', :locals => {:req => @request}) %>");

<%- if @notification_user.present? %>
    <% publish_to user_notifications_path(@notification_user) do %>
    var notification_count = parseInt($('#notification-count').text());
    if(isNaN(notification_count)) {
        $('.notification-list').html("<%= j (render :partial => 'notifications/notification', :locals => {:notification => @notification}) %>");
    } else {
        $('.notification-list').prepend("<%= j (render :partial => 'notifications/notification', :locals => {:notification => @notification}) %>");
    }
    $('#notification-count').html(isNaN(notification_count) ? 1 : (parseInt($('#notification-count').text()) + 1));
    <% end %>
<% end %>


